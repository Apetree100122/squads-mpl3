{
    "version": "0.1.1",
    "name": "squads_mpl",
    "instructions": [
        {
            "name": "create",
            "accounts": [
                {
                    "name": "multisig",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "creator",
                    "isMut": true,
                    "isSigner": true
                },
                {
                    "name": "systemProgram",
                    "isMut": false,
                    "isSigner": false
                }
            ],
            "args": [
                {
                    "name": "threshold",
                    "type": "u16"
                },
                {
                    "name": "createKey",
                    "type": "publicKey"
                },
                {
                    "name": "members",
                    "type": {
                        "vec": "publicKey"
                    }
                }
            ]
        },
        {
            "name": "addMember",
            "accounts": [
                {
                    "name": "multisig",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "multisigAuth",
                    "isMut": true,
                    "isSigner": true
                },
                {
                    "name": "member",
                    "isMut": true,
                    "isSigner": true
                },
                {
                    "name": "rent",
                    "isMut": false,
                    "isSigner": false
                },
                {
                    "name": "systemProgram",
                    "isMut": false,
                    "isSigner": false
                }
            ],
            "args": [
                {
                    "name": "newMember",
                    "type": "publicKey"
                }
            ]
        },
        {
            "name": "removeMember",
            "accounts": [
                {
                    "name": "multisig",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "multisigAuth",
                    "isMut": true,
                    "isSigner": true
                }
            ],
            "args": [
                {
                    "name": "oldMember",
                    "type": "publicKey"
                }
            ]
        },
        {
            "name": "removeMemberAndChangeThreshold",
            "accounts": [
                {
                    "name": "multisig",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "multisigAuth",
                    "isMut": true,
                    "isSigner": true
                }
            ],
            "args": [
                {
                    "name": "oldMember",
                    "type": "publicKey"
                },
                {
                    "name": "newThreshold",
                    "type": "u16"
                }
            ]
        },
        {
            "name": "addMemberAndChangeThreshold",
            "accounts": [
                {
                    "name": "multisig",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "multisigAuth",
                    "isMut": true,
                    "isSigner": true
                },
                {
                    "name": "member",
                    "isMut": true,
                    "isSigner": true
                },
                {
                    "name": "rent",
                    "isMut": false,
                    "isSigner": false
                },
                {
                    "name": "systemProgram",
                    "isMut": false,
                    "isSigner": false
                }
            ],
            "args": [
                {
                    "name": "newMember",
                    "type": "publicKey"
                },
                {
                    "name": "newThreshold",
                    "type": "u16"
                }
            ]
        },
        {
            "name": "changeThreshold",
            "accounts": [
                {
                    "name": "multisig",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "multisigAuth",
                    "isMut": true,
                    "isSigner": true
                }
            ],
            "args": [
                {
                    "name": "newThreshold",
                    "type": "u16"
                }
            ]
        },
        {
            "name": "addAuthority",
            "accounts": [
                {
                    "name": "multisig",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "multisigAuth",
                    "isMut": true,
                    "isSigner": true
                }
            ],
            "args": []
        },
        {
            "name": "setExternalExecute",
            "accounts": [
                {
                    "name": "multisig",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "multisigAuth",
                    "isMut": true,
                    "isSigner": true
                }
            ],
            "args": [
                {
                    "name": "setting",
                    "type": "bool"
                }
            ]
        },
        {
            "name": "createTransactionV2",
            "accounts": [
                {
                    "name": "multisig",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "transaction",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "creator",
                    "isMut": true,
                    "isSigner": true
                },
                {
                    "name": "systemProgram",
                    "isMut": false,
                    "isSigner": false
                }
            ],
            "args": [
                {
                    "name": "args",
                    "type": {
                        "defined": "CreateTransactionV2Args"
                    }
                }
            ]
        },
        {
            "name": "createTransaction",
            "accounts": [
                {
                    "name": "multisig",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "transaction",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "creator",
                    "isMut": true,
                    "isSigner": true
                },
                {
                    "name": "systemProgram",
                    "isMut": false,
                    "isSigner": false
                }
            ],
            "args": [
                {
                    "name": "authorityIndex",
                    "type": "u32"
                }
            ]
        },
        {
            "name": "activateTransaction",
            "accounts": [
                {
                    "name": "multisig",
                    "isMut": false,
                    "isSigner": false
                },
                {
                    "name": "transaction",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "creator",
                    "isMut": true,
                    "isSigner": true
                },
                {
                    "name": "systemProgram",
                    "isMut": false,
                    "isSigner": false
                }
            ],
            "args": []
        },
        {
            "name": "addInstruction",
            "accounts": [
                {
                    "name": "multisig",
                    "isMut": false,
                    "isSigner": false
                },
                {
                    "name": "transaction",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "instruction",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "creator",
                    "isMut": true,
                    "isSigner": true
                },
                {
                    "name": "systemProgram",
                    "isMut": false,
                    "isSigner": false
                }
            ],
            "args": [
                {
                    "name": "incomingInstruction",
                    "type": {
                        "defined": "IncomingInstruction"
                    }
                }
            ]
        },
        {
            "name": "addInstructions",
            "docs": [
                "Batch add instructions to a transaction."
            ],
            "accounts": [
                {
                    "name": "multisig",
                    "isMut": false,
                    "isSigner": false
                },
                {
                    "name": "transaction",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "creator",
                    "isMut": true,
                    "isSigner": true
                },
                {
                    "name": "systemProgram",
                    "isMut": false,
                    "isSigner": false
                }
            ],
            "args": [
                {
                    "name": "args",
                    "type": {
                        "defined": "AddInstructionsArgs"
                    }
                }
            ]
        },
        {
            "name": "approveTransaction",
            "accounts": [
                {
                    "name": "multisig",
                    "isMut": false,
                    "isSigner": false
                },
                {
                    "name": "transaction",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "member",
                    "isMut": true,
                    "isSigner": true
                },
                {
                    "name": "systemProgram",
                    "isMut": false,
                    "isSigner": false
                }
            ],
            "args": []
        },
        {
            "name": "rejectTransaction",
            "accounts": [
                {
                    "name": "multisig",
                    "isMut": false,
                    "isSigner": false
                },
                {
                    "name": "transaction",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "member",
                    "isMut": true,
                    "isSigner": true
                },
                {
                    "name": "systemProgram",
                    "isMut": false,
                    "isSigner": false
                }
            ],
            "args": []
        },
        {
            "name": "cancelTransaction",
            "accounts": [
                {
                    "name": "multisig",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "transaction",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "member",
                    "isMut": true,
                    "isSigner": true
                },
                {
                    "name": "systemProgram",
                    "isMut": false,
                    "isSigner": false
                }
            ],
            "args": []
        },
        {
            "name": "executeTransaction",
            "accounts": [
                {
                    "name": "multisig",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "transaction",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "member",
                    "isMut": true,
                    "isSigner": true
                }
            ],
            "args": [
                {
                    "name": "accountList",
                    "type": "bytes"
                }
            ]
        },
        {
            "name": "executeInstruction",
            "accounts": [
                {
                    "name": "multisig",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "transaction",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "instruction",
                    "isMut": true,
                    "isSigner": false
                },
                {
                    "name": "member",
                    "isMut": true,
                    "isSigner": true
                }
            ],
            "args": []
        }
    ],
    "accounts": [
        {
            "name": "Ms",
            "type": {
                "kind": "struct",
                "fields": [
                    {
                        "name": "threshold",
                        "type": "u16"
                    },
                    {
                        "name": "authorityIndex",
                        "type": "u16"
                    },
                    {
                        "name": "transactionIndex",
                        "type": "u32"
                    },
                    {
                        "name": "msChangeIndex",
                        "type": "u32"
                    },
                    {
                        "name": "bump",
                        "type": "u8"
                    },
                    {
                        "name": "createKey",
                        "type": "publicKey"
                    },
                    {
                        "name": "allowExternalExecute",
                        "type": "bool"
                    },
                    {
                        "name": "keys",
                        "type": {
                            "vec": "publicKey"
                        }
                    }
                ]
            }
        },
        {
            "name": "MsTransaction",
            "type": {
                "kind": "struct",
                "fields": [
                    {
                        "name": "creator",
                        "type": "publicKey"
                    },
                    {
                        "name": "ms",
                        "type": "publicKey"
                    },
                    {
                        "name": "transactionIndex",
                        "type": "u32"
                    },
                    {
                        "name": "authorityIndex",
                        "type": "u32"
                    },
                    {
                        "name": "authorityBump",
                        "type": "u8"
                    },
                    {
                        "name": "status",
                        "type": {
                            "defined": "MsTransactionStatus"
                        }
                    },
                    {
                        "name": "instructionIndex",
                        "type": "u8"
                    },
                    {
                        "name": "bump",
                        "type": "u8"
                    },
                    {
                        "name": "approved",
                        "type": {
                            "vec": "publicKey"
                        }
                    },
                    {
                        "name": "rejected",
                        "type": {
                            "vec": "publicKey"
                        }
                    },
                    {
                        "name": "cancelled",
                        "type": {
                            "vec": "publicKey"
                        }
                    },
                    {
                        "name": "executedIndex",
                        "type": "u8"
                    }
                ]
            }
        },
        {
            "name": "MsInstruction",
            "type": {
                "kind": "struct",
                "fields": [
                    {
                        "name": "programId",
                        "type": "publicKey"
                    },
                    {
                        "name": "keys",
                        "type": {
                            "vec": {
                                "defined": "MsAccountMeta"
                            }
                        }
                    },
                    {
                        "name": "data",
                        "type": "bytes"
                    },
                    {
                        "name": "instructionIndex",
                        "type": "u8"
                    },
                    {
                        "name": "bump",
                        "type": "u8"
                    },
                    {
                        "name": "executed",
                        "type": "bool"
                    }
                ]
            }
        },
        {
            "name": "MsTransactionV2",
            "docs": [
                "Account containing data required for tracking the voting status, and execution of multisig transaction."
            ],
            "type": {
                "kind": "struct",
                "fields": [
                    {
                        "name": "creator",
                        "docs": [
                            "creator, used to seed pda."
                        ],
                        "type": "publicKey"
                    },
                    {
                        "name": "ms",
                        "docs": [
                            "the multisig this belongs to."
                        ],
                        "type": "publicKey"
                    },
                    {
                        "name": "transactionIndex",
                        "docs": [
                            "used for seed."
                        ],
                        "type": "u32"
                    },
                    {
                        "name": "authorityIndex",
                        "docs": [
                            "index to use for other pdas (?)."
                        ],
                        "type": "u32"
                    },
                    {
                        "name": "authorityBump",
                        "docs": [
                            "the bump corresponding to the bespoke authority."
                        ],
                        "type": "u8"
                    },
                    {
                        "name": "status",
                        "docs": [
                            "the status of the transaction."
                        ],
                        "type": {
                            "defined": "MsTransactionStatus"
                        }
                    },
                    {
                        "name": "bump",
                        "docs": [
                            "bump for the seed."
                        ],
                        "type": "u8"
                    },
                    {
                        "name": "approved",
                        "docs": [
                            "keys that have approved/signed."
                        ],
                        "type": {
                            "vec": "publicKey"
                        }
                    },
                    {
                        "name": "rejected",
                        "docs": [
                            "keys that have rejected."
                        ],
                        "type": {
                            "vec": "publicKey"
                        }
                    },
                    {
                        "name": "cancelled",
                        "docs": [
                            "keys that have cancelled (ExecuteReady only)."
                        ],
                        "type": {
                            "vec": "publicKey"
                        }
                    },
                    {
                        "name": "accountKeys",
                        "docs": [
                            "unique account pubkeys (including program IDs) required for execution of the tx."
                        ],
                        "type": {
                            "vec": "publicKey"
                        }
                    },
                    {
                        "name": "instructions",
                        "docs": [
                            "list of instructions making up the tx."
                        ],
                        "type": {
                            "vec": {
                                "defined": "CompiledInstruction"
                            }
                        }
                    }
                ]
            }
        }
    ],
    "types": [
        {
            "name": "MsAccountMeta",
            "type": {
                "kind": "struct",
                "fields": [
                    {
                        "name": "pubkey",
                        "type": "publicKey"
                    },
                    {
                        "name": "isSigner",
                        "type": "bool"
                    },
                    {
                        "name": "isWritable",
                        "type": "bool"
                    }
                ]
            }
        },
        {
            "name": "IncomingInstruction",
            "type": {
                "kind": "struct",
                "fields": [
                    {
                        "name": "programId",
                        "type": "publicKey"
                    },
                    {
                        "name": "keys",
                        "type": {
                            "vec": {
                                "defined": "MsAccountMeta"
                            }
                        }
                    },
                    {
                        "name": "data",
                        "type": "bytes"
                    }
                ]
            }
        },
        {
            "name": "AddInstructionsArgs",
            "type": {
                "kind": "struct",
                "fields": [
                    {
                        "name": "accountKeys",
                        "docs": [
                            "The list of unique account public keys (including program IDs) that will be used in the provided instructions."
                        ],
                        "type": {
                            "vec": "publicKey"
                        }
                    },
                    {
                        "name": "instructions",
                        "type": {
                            "vec": {
                                "defined": "CompressedInstruction"
                            }
                        }
                    },
                    {
                        "name": "activate",
                        "docs": [
                            "Whether to also activate the transaction."
                        ],
                        "type": "bool"
                    }
                ]
            }
        },
        {
            "name": "CompressedInstruction",
            "type": {
                "kind": "struct",
                "fields": [
                    {
                        "name": "programIdIndex",
                        "type": "u8"
                    },
                    {
                        "name": "accountIndexes",
                        "docs": [
                            "Indices into the account_keys list indicating which accounts to pass to the instruction."
                        ],
                        "type": "bytes"
                    },
                    {
                        "name": "signerIndexes",
                        "docs": [
                            "Indices into the account_keys list indicating which accounts are signers."
                        ],
                        "type": "bytes"
                    },
                    {
                        "name": "writableIndexes",
                        "docs": [
                            "Indices into the account_keys list indicating which accounts are writable."
                        ],
                        "type": "bytes"
                    },
                    {
                        "name": "data",
                        "type": "bytes"
                    }
                ]
            }
        },
        {
            "name": "CreateTransactionV2Args",
            "type": {
                "kind": "struct",
                "fields": [
                    {
                        "name": "accountKeys",
                        "docs": [
                            "The list of unique account public keys (including program IDs) that will be used in the provided instructions.",
                            "The signer pubkeys appear at the beginning of the vec, with writable pubkeys first, and read-only pubkeys following.",
                            "The non-signer pubkeys follow with writable pubkeys first and read-only ones following.",
                            "Program IDs are also stored at the end of the vec along with other non-signer non-writable pubkeys:",
                            "",
                            "```plaintext",
                            "[pubkey1, pubkey2, pubkey3, pubkey4, pubkey5, pubkey6, pubkey7, pubkey8]",
                            "|---writable---|  |---readonly---|  |---writable---|  |---readonly---|",
                            "|------------signers-------------|  |----------non-singers-----------|",
                            "```"
                        ],
                        "type": {
                            "vec": "publicKey"
                        }
                    },
                    {
                        "name": "numSigners",
                        "docs": [
                            "The number of signer pubkeys in the account_keys vec."
                        ],
                        "type": "u8"
                    },
                    {
                        "name": "numWritableSigners",
                        "docs": [
                            "The number of writable signer pubkeys in the account_keys vec."
                        ],
                        "type": "u8"
                    },
                    {
                        "name": "numWritableNonSigners",
                        "docs": [
                            "The number of writable non-signer pubkeys in the account_keys vec."
                        ],
                        "type": "u8"
                    },
                    {
                        "name": "authorityIndex",
                        "docs": [
                            "Authority `0` is reserved for internal instructions,",
                            "whereas authorities 1 or greater refer to a vault, upgrade authority, or other."
                        ],
                        "type": "u8"
                    },
                    {
                        "name": "instructions",
                        "type": {
                            "vec": {
                                "defined": "CompiledInstruction"
                            }
                        }
                    }
                ]
            }
        },
        {
            "name": "CompiledInstruction",
            "type": {
                "kind": "struct",
                "fields": [
                    {
                        "name": "programIdIndex",
                        "type": "u8"
                    },
                    {
                        "name": "accountIndexes",
                        "docs": [
                            "Indices into the tx's `account_keys` list indicating which accounts to pass to the instruction."
                        ],
                        "type": "bytes"
                    },
                    {
                        "name": "data",
                        "docs": [
                            "Instruction data."
                        ],
                        "type": "bytes"
                    }
                ]
            }
        },
        {
            "name": "MsTransactionStatus",
            "type": {
                "kind": "enum",
                "variants": [
                    {
                        "name": "Draft"
                    },
                    {
                        "name": "Active"
                    },
                    {
                        "name": "ExecuteReady"
                    },
                    {
                        "name": "Executed"
                    },
                    {
                        "name": "Rejected"
                    },
                    {
                        "name": "Cancelled"
                    }
                ]
            }
        }
    ],
    "errors": [
        {
            "code": 6000,
            "name": "KeyNotInMultisig"
        },
        {
            "code": 6001,
            "name": "InvalidTransactionState"
        },
        {
            "code": 6002,
            "name": "InvalidNumberOfAccounts"
        },
        {
            "code": 6003,
            "name": "InvalidInstructionAccount"
        },
        {
            "code": 6004,
            "name": "InvalidInstructionCount",
            "msg": "Number of instruction arguments does not match number of instruction accounts."
        },
        {
            "code": 6005,
            "name": "InvalidAuthorityIndex"
        },
        {
            "code": 6006,
            "name": "TransactionAlreadyExecuted"
        },
        {
            "code": 6007,
            "name": "CannotRemoveSoloMember"
        },
        {
            "code": 6008,
            "name": "InvalidThreshold"
        },
        {
            "code": 6009,
            "name": "DeprecatedTransaction"
        },
        {
            "code": 6010,
            "name": "InstructionFailed"
        },
        {
            "code": 6011,
            "name": "MaxMembersReached"
        },
        {
            "code": 6012,
            "name": "EmptyMembers"
        },
        {
            "code": 6013,
            "name": "PartialExecution"
        }
    ]
}
